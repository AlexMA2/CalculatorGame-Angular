<ax-language-selector></ax-language-selector>

<main
    class="flex flex-col gap-4 bg-primary-100 justify-start items-center min-h-screen"
>
    <div class="flex flex-col justify-center items-center mt-4">
        <h1 class="text-4xl font-bold text-primary-900">
            {{ "tournament.label" | translate }}
        </h1>
        <p class="text-lg text-primary-800">
            {{ "tournament.welcome" | translate }}
        </p>
    </div>

    <form [formGroup]="formGroup" class="flex flex-row gap-4">
        <mat-form-field>
            <mat-label> {{ "tournament.name" | translate }}</mat-label>
            <input matInput formControlName="name" />
        </mat-form-field>

        <mat-form-field>
            <mat-label> {{ "password.name" | translate }} </mat-label>
            <input matInput formControlName="password" />
        </mat-form-field>

        <mat-form-field>
            <mat-label> {{ "tournament.max_players" | translate }}* </mat-label>
            <input type="number" matInput formControlName="maxPlayers" />
        </mat-form-field>
    </form>

    <button
        class="bg-primary-500 text-white font-bold py-2 px-4 rounded"
        [disabled]="formGroup.invalid"
        (click)="onCreateTournament()"
    >
        {{ "tournament.create" | translate }}
    </button>

    <div class="grid auto-cols-auto gap-4 w-full max-w-272">
        <div
            *ngFor="let t of tournaments"
            class="flex flex-col p-4 bg-gradient-to-br from-viking-800 to-viking-400 shadow-sm shadow-white rounded-lg gap-2 max-w-64"
        >
            <p class="text-primary-200">
                {{ t.name }}
            </p>

            <div class="flex flex-row gap-2 items-center">
                <svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="1em"
                    height="1em"
                    viewBox="0 0 16 16"
                >
                    <path
                        fill="currentColor"
                        d="M8.5 4.5a2.5 2.5 0 1 1-5 0a2.5 2.5 0 0 1 5 0m2.4 7.506c.11.542-.348.994-.9.994H2c-.553 0-1.01-.452-.902-.994a5.002 5.002 0 0 1 9.803 0M14.002 12h-1.59a2.556 2.556 0 0 0-.04-.29a6.476 6.476 0 0 0-1.167-2.603a3.002 3.002 0 0 1 3.633 1.911c.18.522-.283.982-.836.982M12 8a2 2 0 1 0 0-4a2 2 0 0 0 0 4"
                    />
                </svg>
                <p class="text-primary-200">
                    {{ t.maxPlayers }}
                </p>
            </div>

            <div *ngIf="!t.password" class="flex flex-row gap-2 items-center">
                <svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="1em"
                    height="1em"
                    viewBox="0 0 24 24"
                >
                    <path
                        fill="currentColor"
                        d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10s10-4.48 10-10S17.52 2 12 2m-1 17.93c-3.95-.49-7-3.85-7-7.93c0-.62.08-1.21.21-1.79L9 15v1c0 1.1.9 2 2 2zm6.9-2.54c-.26-.81-1-1.39-1.9-1.39h-1v-3c0-.55-.45-1-1-1H8v-2h2c.55 0 1-.45 1-1V7h2c1.1 0 2-.9 2-2v-.41c2.93 1.19 5 4.06 5 7.41c0 2.08-.8 3.97-2.1 5.39"
                    />
                </svg>
                <p class="text-primary-200">
                    {{ "tournament.public" | translate }}
                </p>
            </div>

            <div *ngIf="t.password" class="flex flex-row gap-2 items-center">
                <svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="1em"
                    height="1em"
                    viewBox="0 0 24 24"
                >
                    <path
                        fill="currentColor"
                        d="M18.93 11c-.49-3.39-3.4-6-6.93-6s-6.44 2.61-6.93 6H2v2h3.07c.49 3.39 3.4 6 6.93 6s6.44-2.61 6.93-6H22v-2zM15 14.5c0 .55-.45 1-1 1h-4c-.55 0-1-.45-1-1v-3c0-.55.45-1 1-1v-1a2 2 0 0 1 2.34-1.97c.98.16 1.66 1.08 1.66 2.08v.89c.55 0 1 .45 1 1zM12.75 13c0 .41-.34.75-.75.75s-.75-.34-.75-.75s.34-.75.75-.75s.75.34.75.75M13 9.5v1h-2v-1c0-.55.45-1 1-1s1 .45 1 1"
                    />
                </svg>
                <p class="text-primary-200">
                    {{ "tournament.private" | translate }}
                </p>
            </div>

            <div class="flex flex-row justify-center w-full gap-2">
                <button
                    class="bg-primary-500 text-white font-bold py-2 px-4 rounded"
                    (click)="onJoinTournament(t.id)"
                >
                    {{ "tournament.join" | translate }}
                </button>
            </div>
        </div>
    </div>
</main>
